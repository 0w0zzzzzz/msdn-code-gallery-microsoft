<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body style="background:#007acc">
    <h1>Invoke native code using ScriptNotify event of WebView</h1>
    <h2>Blue region is WebView</h2>
    <button id="SetValueToNative">SetValueToNative</button>

    <button id="GetNowTime">GetNowTime</button>


    <p>Note:</p>
    <p>
        Javascript can notify UWP UI logic code to run, but can't use this feature to get calculation result on UWP UI thread.
    </p>
    <p>
        It's a way to control UWP UI from javascript logic!
    </p>

    <p>
        This sample file path is :<br />
        CSCommunicationBetweenJsAndNativeCodeInWebViewOfUWP/InvokeNativeCode/InvokeNativeCodeScriptNotify.xaml<br />

        And Native method is in Project:AllowForWebRuntimeComponent<br />
    </p>

    <script>
        window.onload = function () {
            document.getElementById("SetValueToNative").addEventListener("click", function () {
                window.external.notify(JSON.stringify({ method: "SetValueToNative", param: "this value is from webView." }));
            });

            document.getElementById("GetNowTime").addEventListener("click", function () {
                window.external.notify(JSON.stringify({ method: "GetNowTime" }));
            });
        }
    </script>
</body>
</html>