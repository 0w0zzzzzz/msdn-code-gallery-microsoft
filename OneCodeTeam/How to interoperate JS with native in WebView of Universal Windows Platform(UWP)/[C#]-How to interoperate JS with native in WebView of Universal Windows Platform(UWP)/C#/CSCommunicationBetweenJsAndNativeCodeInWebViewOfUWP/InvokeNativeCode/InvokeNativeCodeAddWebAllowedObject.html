<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body style="background:#007acc">
    <h1>Invoke native code using AddAllowedObject method of WebView</h1>
    <h2>Blue region is WebView</h2>
    <h2 id="resultContainer"></h2>

    <p>Note: </p>

    <p>This way can invoke native method and get result from native method.</p>
    <p>But because this native is from orther project in this solution, so when you operator UI, it will be very difficult.</p>
    <br />
    <br />
    <p>
        When you useing this way, notice that:<br />
        the Native method must in a project that type is RuntimeComponent(Universal Windows).<br />
        The class must be sealed, and must have attribuite [Windows.Foundation.Metadata.AllowForWeb]
    </p>

    <p>
        This sample file path is :<br />
        CSCommunicationBetweenJsAndNativeCodeInWebViewOfUWP/InvokeNativeCode/InvokeNativeCodeAddWebAllowedObject.xaml<br />

        And Native method is in Project:AllowForWebRuntimeComponent<br />
    </p>

    <script>
        window.onload = function () {
            //AllowFromWebExample is first param in Code behind MainWebView.AddWebAllowedObject
            //getPlusResult is member of second param
            //Notice that The Native method name is GetPlusResult, but in js it's name is getPlusResult, the first letter had to to lower.
            var result = AllowFromWebExample.getPlusResult(1, 2);

            document.getElementById("resultContainer").innerHTML = "This result is from Native: 1 + 2 = " + result;
        }
    </script>
</body>
</html>